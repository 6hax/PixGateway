<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PayNest API - Documentação</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.css">
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-javascript.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-typescript.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-ruby.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
  <style>
    body::-webkit-scrollbar { width: 8px; }
    body::-webkit-scrollbar-thumb { background-color: #9ca3af; border-radius: 9999px; }
    body::-webkit-scrollbar-track { background-color: transparent; }
    pre { overflow-x: auto; }
    .code-tab { cursor: pointer; }
    .code-tab.active { border-bottom: 2px solid #3b82f6; }
    .sidebar { transition: all 0.3s ease; }
    .menu-item { transition: all 0.2s ease; }
    .menu-item:hover { transform: translateX(5px); }
    @media (max-width: 768px) {
      .sidebar { transform: translateX(-100%); position: fixed; height: 100vh; z-index: 40; }
      .sidebar.open { transform: translateX(0); }
      .overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.5); z-index: 30; }
      .overlay.open { display: block; }
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-300 flex flex-col md:flex-row">
  <button id="mobile-menu-button" class="md:hidden fixed top-4 left-4 z-50 p-2 rounded-md bg-gray-200 dark:bg-gray-800">
    <i class="fas fa-bars"></i>
  </button>
  <div id="overlay" class="overlay"></div>
  <aside id="sidebar" class="sidebar w-64 min-h-screen bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-4 md:relative">
    <div class="flex items-center justify-between mb-6">
      <h1 class="text-xl font-bold flex items-center">
        <i class="fas fa-code-branch mr-2 text-blue-500"></i> PayNest Docs
      </h1>
      <!-- <button id="theme-toggle" class="p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
        <i class="fas fa-moon"></i>
      </button> -->
    </div>
    <div class="mb-4">
      <div class="text-sm font-semibold mb-2 text-gray-500 dark:text-gray-400">GERAL</div>
      <nav class="space-y-1">
        <a href="#intro" class="menu-item flex items-center space-x-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
          <i class="fas fa-info-circle w-5 text-blue-500"></i>
          <span>Introdução</span>
        </a>
        <a href="#tech" class="menu-item flex items-center space-x-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
          <i class="fas fa-microchip w-5 text-green-500"></i>
          <span>Tecnologias</span>
        </a>
        <a href="#setup" class="menu-item flex items-center space-x-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
          <i class="fas fa-cogs w-5 text-purple-500"></i>
          <span>Configuração</span>
        </a>
      </nav>
    </div>
    <div class="mb-4">
      <div class="text-sm font-semibold mb-2 text-gray-500 dark:text-gray-400">AUTENTICAÇÃO</div>
      <nav class="space-y-1">
        <a href="#auth" class="menu-item flex items-center space-x-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
          <i class="fas fa-key w-5 text-yellow-500"></i>
          <span>Autenticação</span>
        </a>
        <a href="#rate-limiting" class="menu-item flex items-center space-x-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
          <i class="fas fa-tachometer-alt w-5 text-red-500"></i>
          <span>Rate Limiting</span>
        </a>
      </nav>
    </div>
    <div class="mb-4">
      <div class="text-sm font-semibold mb-2 text-gray-500 dark:text-gray-400">ENDPOINTS</div>
      <nav class="space-y-1">
        <a href="#create-payment" class="menu-item flex items-center space-x-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
          <i class="fas fa-money-bill-wave w-5 text-green-500"></i>
          <span>Criar Pagamento</span>
        </a>
        <a href="#get-payment" class="menu-item flex items-center space-x-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
          <i class="fas fa-search-dollar w-5 text-blue-500"></i>
          <span>Obter Pagamento</span>
        </a>
        <a href="#get-preference" class="menu-item flex items-center space-x-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
          <i class="fas fa-cog w-5 text-purple-500"></i>
          <span>Obter Preferência</span>
        </a>
        <a href="#check-payment" class="menu-item flex items-center space-x-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
          <i class="fas fa-check-circle w-5 text-teal-500"></i>
          <span>Verificar Aprovação</span>
        </a>
        <a href="#cancel-payment" class="menu-item flex items-center space-x-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
          <i class="fas fa-ban w-5 text-red-500"></i>
          <span>Cancelar Pagamento</span>
        </a>
        <a href="#webhook" class="menu-item flex items-center space-x-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
          <i class="fas fa-bell w-5 text-yellow-500"></i>
          <span>Webhook</span>
        </a>
      </nav>
    </div>
    <div class="mb-4">
      <div class="text-sm font-semibold mb-2 text-gray-500 dark:text-gray-400">EXEMPLOS</div>
      <nav class="space-y-1">
        <a href="#examples" class="menu-item flex items-center space-x-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
          <i class="fas fa-code w-5 text-indigo-500"></i>
          <span>Exemplos de Código</span>
        </a>
        <a href="#testing" class="menu-item flex items-center space-x-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">
          <i class="fas fa-vial w-5 text-pink-500"></i>
          <span>Testando a API</span>
        </a>
      </nav>
    </div>
  </aside>
  <main class="flex-1 p-6 md:p-8">
    <section id="intro" class="mb-12 scroll-mt-16">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <i class="fas fa-info-circle mr-2 text-blue-500"></i> Introdução
      </h2>
      <p class="mb-4">PayNest API é uma solução open source para integração rápida de pagamentos Mercado Pago. Suporta criação de pagamentos, QR Codes, preferências e webhooks.</p>
      <div class="bg-blue-50 dark:bg-blue-900/20 p-4 rounded border border-blue-200 dark:border-blue-800 mb-4">
        <p class="flex items-center"><i class="fas fa-link mr-2 text-blue-500"></i> <strong>Base URL:</strong> <code class="ml-2 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded">http://localhost:3000/api</code></p>
      </div>
    </section>
    <section id="tech" class="mb-12 scroll-mt-16">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <i class="fas fa-microchip mr-2 text-green-500"></i> Tecnologias
      </h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded text-center">
          <i class="fab fa-node-js text-3xl text-green-500 mb-2"></i>
          <p>Node.js</p>
        </div>
        <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded text-center">
          <i class="fas fa-bolt text-3xl text-gray-500 mb-2"></i>
          <p>Express</p>
        </div>
        <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded text-center">
          <i class="fas fa-money-check-alt text-3xl text-blue-500 mb-2"></i>
          <p>Mercado Pago</p>
        </div>
        <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded text-center">
          <i class="fas fa-shield-alt text-3xl text-yellow-500 mb-2"></i>
          <p>Rate Limiting</p>
        </div>
      </div>
    </section>
    <section id="setup" class="mb-12 scroll-mt-16">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <i class="fas fa-cogs mr-2 text-purple-500"></i> Configuração
      </h2>
      <p class="mb-4">Para configurar a API, siga estes passos:</p>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <h3 class="font-semibold mb-2">1. Instalação</h3>
        <pre><code class="language-bash">npm install</code></pre>
      </div>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <h3 class="font-semibold mb-2">2. Variáveis de Ambiente</h3>
        <p class="mb-2">Crie um arquivo <code>.env</code> na raiz do projeto:</p>
        <pre><code class="language-bash"># Porta do servidor (padrão: 3000)
PORT=3000
# URL base para webhooks
BASE_URL=http://localhost:3000
# Access Token do Mercado Pago (opcional, pode ser enviado via header)
# ACESSTOKEN=APP_USR-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-xxxxxxxx</code></pre>
      </div>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded">
        <h3 class="font-semibold mb-2">3. Executar a API</h3>
        <pre><code class="language-bash"># Modo desenvolvimento
npm run dev
# Ou com npx
npx nodemon .</code></pre>
      </div>
    </section>
    <section id="auth" class="mb-12 scroll-mt-16">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <i class="fas fa-key mr-2 text-yellow-500"></i> Autenticação
      </h2>
      <p class="mb-4">Todas as rotas (exceto webhook) exigem autenticação via header HTTP:</p>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <pre><code class="language-http">Authorization: Bearer SEU_ACCESS_TOKEN_MERCADO_PAGO</code></pre>
      </div>
      <div class="bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded border border-yellow-200 dark:border-yellow-800">
        <p class="flex items-center"><i class="fas fa-exclamation-triangle mr-2 text-yellow-500"></i> <strong>Nota:</strong> O Access Token pode ser configurado via variável de ambiente, mas é mais seguro enviá-lo via header.</p>
      </div>
    </section>
    <section id="rate-limiting" class="mb-12 scroll-mt-16">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <i class="fas fa-tachometer-alt mr-2 text-red-500"></i> Rate Limiting
      </h2>
      <p class="mb-4">A API implementa proteção contra spam com as seguintes regras:</p>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <ul class="list-disc pl-5">
          <li><strong>Limite:</strong> 100 requisições por 15 minutos</li>
          <li><strong>Headers:</strong> Inclui <code>X-RateLimit-Limit</code>, <code>X-RateLimit-Remaining</code> e <code>X-RateLimit-Reset</code></li>
          <li><strong>Resposta:</strong> <code>429 Too Many Requests</code> quando excedido</li>
        </ul>
      </div>
    </section>
    <section id="create-payment" class="mb-12 scroll-mt-16">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <i class="fas fa-money-bill-wave mr-2 text-green-500"></i> Criar Pagamento
      </h2>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <div class="flex items-center mb-2">
          <span class="px-2 py-1 bg-green-500 text-white rounded text-sm mr-2">POST</span>
          <code class="text-sm">/payment</code>
        </div>
        <p class="mb-2">Cria um novo pagamento PIX e retorna os dados para pagamento.</p>
      </div>
      <h3 class="font-semibold mb-2">Request</h3>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <pre><code class="language-json">{
  "amount": 50.0,
  "description": "Compra de teste"
}</code></pre>
      </div>
      <h3 class="font-semibold mb-2">Response</h3>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <pre><code class="language-json">{
  "paymentId": "123456789",
  "preferenceId": "PREF-ABCDE",
  "preferenceUrl": "https://...",
  "pixCode": "0002012636...",
  "qrCode": "iVBORw0KGgo...",
  "data": {
    "createdAt": "2024-01-01T00:00:00.000Z",
    "status": "pending",
    "amount": 50.0,
    "description": "Compra de teste"
  }
}</code></pre>
      </div>
      <h3 class="font-semibold mb-2">Exemplos de Código</h3>
      <div class="mb-4">
        <div class="flex space-x-2 mb-2">
          <button class="code-tab px-3 py-1 rounded-t active" data-tab="js-create">JavaScript</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="ts-create">TypeScript</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="py-create">Python</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="rb-create">Ruby</button>
        </div>
        <div id="js-create" class="code-content active">
          <pre><code class="language-javascript">const axios = require('axios');
const createPayment = async () => {
  try {
    const response = await axios.post('http://localhost:3000/api/payment', {
      amount: 50.0,
      description: 'Compra de teste'
    }, {
      headers: {
        'Authorization': 'Bearer SEU_ACCESS_TOKEN',
        'Content-Type': 'application/json'
      }
    });
    console.log(response.data);
  } catch (error) {
    console.error('Erro:', error.response?.data || error.message);
  }
};
createPayment();</code></pre>
        </div>
        <div id="ts-create" class="code-content hidden">
          <pre><code class="language-typescript">import axios from 'axios';
interface PaymentResponse {
  paymentId: string;
  preferenceId: string;
  preferenceUrl: string;
  pixCode: string;
  qrCode: string;
  data: {
    createdAt: string;
    status: string;
    amount: number;
    description: string;
  };
}
const createPayment = async (): Promise<void> => {
  try {
    const response = await axios.post<PaymentResponse>(
      'http://localhost:3000/api/payment',
      {
        amount: 50.0,
        description: 'Compra de teste'
      },
      {
        headers: {
          'Authorization': 'Bearer SEU_ACCESS_TOKEN',
          'Content-Type': 'application/json'
        }
      }
    );
    console.log(response.data);
  } catch (error) {
    console.error('Erro:', error.response?.data || error.message);
  }
};
createPayment();</code></pre>
        </div>
        <div id="py-create" class="code-content hidden">
          <pre><code class="language-python">import requests
import json
url = "http://localhost:3000/api/payment"
payload = {
    "amount": 50.0,
    "description": "Compra de teste"
}
headers = {
    "Authorization": "Bearer SEU_ACCESS_TOKEN",
    "Content-Type": "application/json"
}
try:
    response = requests.post(url, json=payload, headers=headers)
    response.raise_for_status()
    print(response.json())
except requests.exceptions.RequestException as e:
    print("Erro:", e.response.text if e.response else str(e))</code></pre>
        </div>
        <div id="rb-create" class="code-content hidden">
          <pre><code class="language-ruby">require 'net/http'
require 'json'
uri = URI('http://localhost:3000/api/payment')
request = Net::HTTP::Post.new(uri)
request['Authorization'] = 'Bearer SEU_ACCESS_TOKEN'
request['Content-Type'] = 'application/json'
request.body = {
  amount: 50.0,
  description: 'Compra de teste'
}.to_json
response = Net::HTTP.start(uri.hostname, uri.port) do |http|
  http.request(request)
end
if response.code == '201'
  puts JSON.parse(response.body)
else
  puts "Erro: #{response.body}"
end</code></pre>
        </div>
      </div>

    </section>
    <section id="get-payment" class="mb-12 scroll-mt-16">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <i class="fas fa-search-dollar mr-2 text-blue-500"></i> Obter Pagamento
      </h2>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <div class="flex items-center mb-2">
          <span class="px-2 py-1 bg-blue-500 text-white rounded text-sm mr-2">GET</span>
          <code class="text-sm">/payment/:id</code>
        </div>
        <p class="mb-2">Obtém os detalhes de um pagamento específico pelo ID.</p>
      </div>
      <h3 class="font-semibold mb-2">Response</h3>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <pre><code class="language-json">{
  "paymentId": "123456789",
  "status": "approved",
  "statusDetail": "accredited",
  "pixCode": "0002012636...",
  "qrCode": "iVBORw0KGgo...",
  "amount": 50.0,
  "currency": "BRL",
  "lastUpdated": "2024-01-01T00:00:10.000Z"
}</code></pre>
      </div>
      <h3 class="font-semibold mb-2">Exemplos de Código</h3>
      <div class="mb-4">
        <div class="flex space-x-2 mb-2">
          <button class="code-tab px-3 py-1 rounded-t active" data-tab="js-get">JavaScript</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="ts-get">TypeScript</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="py-get">Python</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="rb-get">Ruby</button>
        </div>
        <div id="js-get" class="code-content active">
          <pre><code class="language-javascript">const axios = require('axios');
const getPayment = async (paymentId) => {
  try {
    const response = await axios.get(`http://localhost:3000/api/payment/${paymentId}`, {
      headers: {
        'Authorization': 'Bearer SEU_ACCESS_TOKEN'
      }
    });
    console.log(response.data);
  } catch (error) {
    console.error('Erro:', error.response?.data || error.message);
  }
};
getPayment('123456789');</code></pre>
        </div>
        <div id="ts-get" class="code-content hidden">
          <pre><code class="language-typescript">import axios from 'axios';
interface PaymentDetails {
  paymentId: string;
  status: string;
  statusDetail: string;
  pixCode: string;
  qrCode: string;
  amount: number;
  currency: string;
  lastUpdated: string;
}
const getPayment = async (paymentId: string): Promise<void> => {
  try {
    const response = await axios.get<PaymentDetails>(
      `http://localhost:3000/api/payment/${paymentId}`,
      {
        headers: {
          'Authorization': 'Bearer SEU_ACCESS_TOKEN'
        }
      }
    );
    console.log(response.data);
  } catch (error) {
    console.error('Erro:', error.response?.data || error.message);
  }
};
getPayment('123456789');</code></pre>
        </div>
        <div id="py-get" class="code-content hidden">
          <pre><code class="language-python">import requests
payment_id = "123456789"
url = f"http://localhost:3000/api/payment/{payment_id}"
headers = {
    "Authorization": "Bearer SEU_ACCESS_TOKEN"
}
try:
    response = requests.get(url, headers=headers)
    response.raise_for_status()
    print(response.json())
except requests.exceptions.RequestException as e:
    print("Erro:", e.response.text if e.response else str(e))</code></pre>
        </div>
        <div id="rb-get" class="code-content hidden">
          <pre><code class="language-ruby">require 'net/http'
require 'json'
payment_id = "123456789"
uri = URI("http://localhost:3000/api/payment/#{payment_id}")
request = Net::HTTP::Get.new(uri)
request['Authorization'] = 'Bearer SEU_ACCESS_TOKEN'
response = Net::HTTP.start(uri.hostname, uri.port) do |http|
  http.request(request)
end
if response.code == '200'
  puts JSON.parse(response.body)
else
  puts "Erro: #{response.body}"
end</code></pre>
        </div>
      </div>
    </section>
    <section id="get-preference" class="mb-12 scroll-mt-16">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <i class="fas fa-cog mr-2 text-purple-500"></i> Obter Preferência
      </h2>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <div class="flex items-center mb-2">
          <span class="px-2 py-1 bg-blue-500 text-white rounded text-sm mr-2">GET</span>
          <code class="text-sm">/preference/:id</code>
        </div>
        <p class="mb-2">Obtém os detalhes de uma preferência de pagamento específica pelo ID.</p>
      </div>
      <h3 class="font-semibold mb-2">Exemplos de Código</h3>
      <div class="mb-4">
        <div class="flex space-x-2 mb-2">
          <button class="code-tab px-3 py-1 rounded-t active" data-tab="js-pref">JavaScript</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="ts-pref">TypeScript</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="py-pref">Python</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="rb-pref">Ruby</button>
        </div>
        <div id="js-pref" class="code-content active">
          <pre><code class="language-javascript">const axios = require('axios');
const getPreference = async (preferenceId) => {
  try {
    const response = await axios.get(`http://localhost:3000/api/preference/${preferenceId}`, {
      headers: {
        'Authorization': 'Bearer SEU_ACCESS_TOKEN'
      }
    });
    console.log(response.data);
  } catch (error) {
    console.error('Erro:', error.response?.data || error.message);
  }
};
getPreference('PREF-ABCDE');</code></pre>
        </div>
        <div id="ts-pref" class="code-content hidden">
          <pre><code class="language-typescript">import axios from 'axios';
interface PreferenceDetails {
  // Estrutura da resposta variável conforme API do Mercado Pago
  [key: string]: any;
}
const getPreference = async (preferenceId: string): Promise<void> => {
  try {
    const response = await axios.get<PreferenceDetails>(
      `http://localhost:3000/api/preference/${preferenceId}`,
      {
        headers: {
          'Authorization': 'Bearer SEU_ACCESS_TOKEN'
        }
      }
    );
    console.log(response.data);
  } catch (error) {
    console.error('Erro:', error.response?.data || error.message);
  }
};
getPreference('PREF-ABCDE');</code></pre>
        </div>
        <div id="py-pref" class="code-content hidden">
          <pre><code class="language-python">import requests
preference_id = "PREF-ABCDE"
url = f"http://localhost:3000/api/preference/{preference_id}"
headers = {
    "Authorization": "Bearer SEU_ACCESS_TOKEN"
}
try:
    response = requests.get(url, headers=headers)
    response.raise_for_status()
    print(response.json())
except requests.exceptions.RequestException as e:
    print("Erro:", e.response.text if e.response else str(e))</code></pre>
        </div>
        <div id="rb-pref" class="code-content hidden">
          <pre><code class="language-ruby">require 'net/http'
require 'json'
preference_id = "PREF-ABCDE"
uri = URI("http://localhost:3000/api/preference/#{preference_id}")
request = Net::HTTP::Get.new(uri)
request['Authorization'] = 'Bearer SEU_ACCESS_TOKEN'
response = Net::HTTP.start(uri.hostname, uri.port) do |http|
  http.request(request)
end
if response.code == '200'
  puts JSON.parse(response.body)
else
  puts "Erro: #{response.body}"
end</code></pre>
        </div>
      </div>
    </section>
    <section id="check-payment" class="mb-12 scroll-mt-16">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <i class="fas fa-check-circle mr-2 text-teal-500"></i> Verificar Aprovação
      </h2>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <div class="flex items-center mb-2">
          <span class="px-2 py-1 bg-blue-500 text-white rounded text-sm mr-2">GET</span>
          <code class="text-sm">/check/all/:paymentId/:preferenceId</code>
        </div>
        <p class="mb-2">Verifica se um pagamento e sua preferência foram totalmente aprovados.</p>
      </div>
      <h3 class="font-semibold mb-2">Response</h3>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <pre><code class="language-json">{
  "paymentApproved": true,
  "preferenceApproved": true,
  "fullyApproved": true,
  "paymentStatus": "approved",
  "preferenceStatus": "paid",
  "paymentData": { "...": "..." },
  "preferenceData": { "...": "..." },
  "hasErrors": false,
  "lastChecked": "2024-01-01T00:00:30.000Z"
}</code></pre>
      </div>
      <h3 class="font-semibold mb-2">Exemplos de Código</h3>
      <div class="mb-4">
        <div class="flex space-x-2 mb-2">
          <button class="code-tab px-3 py-1 rounded-t active" data-tab="js-check">JavaScript</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="ts-check">TypeScript</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="py-check">Python</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="rb-check">Ruby</button>
        </div>
        <div id="js-check" class="code-content active">
          <pre><code class="language-javascript">const axios = require('axios');
const checkApproval = async (paymentId, preferenceId) => {
  try {
    const response = await axios.get(
      `http://localhost:3000/api/check/all/${paymentId}/${preferenceId}`,
      {
        headers: {
          'Authorization': 'Bearer SEU_ACCESS_TOKEN'
        }
      }
    );
    console.log(response.data);
  } catch (error) {
    console.error('Erro:', error.response?.data || error.message);
  }
};
checkApproval('123456789', 'PREF-ABCDE');</code></pre>
        </div>
        <div id="ts-check" class="code-content hidden">
          <pre><code class="language-typescript">import axios from 'axios';
interface ApprovalResponse {
  paymentApproved: boolean;
  preferenceApproved: boolean;
  fullyApproved: boolean;
  paymentStatus: string;
  preferenceStatus: string;
  paymentData: any;
  preferenceData: any;
  hasErrors: boolean;
  lastChecked: string;
}
const checkApproval = async (paymentId: string, preferenceId: string): Promise<void> => {
  try {
    const response = await axios.get<ApprovalResponse>(
      `http://localhost:3000/api/check/all/${paymentId}/${preferenceId}`,
      {
        headers: {
          'Authorization': 'Bearer SEU_ACCESS_TOKEN'
        }
      }
    );
    console.log(response.data);
  } catch (error) {
    console.error('Erro:', error.response?.data || error.message);
  }
};
checkApproval('123456789', 'PREF-ABCDE');</code></pre>
        </div>
        <div id="py-check" class="code-content hidden">
          <pre><code class="language-python">import requests
payment_id = "123456789"
preference_id = "PREF-ABCDE"
url = f"http://localhost:3000/api/check/all/{payment_id}/{preference_id}"
headers = {
    "Authorization": "Bearer SEU_ACCESS_TOKEN"
}
try:
    response = requests.get(url, headers=headers)
    response.raise_for_status()
    print(response.json())
except requests.exceptions.RequestException as e:
    print("Erro:", e.response.text if e.response else str(e))</code></pre>
        </div>
        <div id="rb-check" class="code-content hidden">
          <pre><code class="language-ruby">require 'net/http'
require 'json'
payment_id = "123456789"
preference_id = "PREF-ABCDE"
uri = URI("http://localhost:3000/api/check/all/#{payment_id}/#{preference_id}")
request = Net::HTTP::Get.new(uri)
request['Authorization'] = 'Bearer SEU_ACCESS_TOKEN'
response = Net::HTTP.start(uri.hostname, uri.port) do |http|
  http.request(request)
end
if response.code == '200'
  puts JSON.parse(response.body)
else
  puts "Erro: #{response.body}"
end</code></pre>
        </div>
      </div>
    </section>
    <section id="cancel-payment" class="mb-12 scroll-mt-16">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <i class="fas fa-ban mr-2 text-red-500"></i> Cancelar Pagamento
      </h2>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <div class="flex items-center mb-2">
          <span class="px-2 py-1 bg-red-500 text-white rounded text-sm mr-2">POST</span>
          <code class="text-sm">/cancel/:id</code>
        </div>
        <p class="mb-2">Cancela um pagamento existente pelo ID.</p>
      </div>
      <h3 class="font-semibold mb-2">Response</h3>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <pre><code class="language-json">{
  "success": true,
  "status": "cancelled",
  "paymentId": "123456789",
  "cancellationDate": "2024-01-01T00:01:00.000Z"
}</code></pre>
      </div>
      <h3 class="font-semibold mb-2">Exemplos de Código</h3>
      <div class="mb-4">
        <div class="flex space-x-2 mb-2">
          <button class="code-tab px-3 py-1 rounded-t active" data-tab="js-cancel">JavaScript</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="ts-cancel">TypeScript</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="py-cancel">Python</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="rb-cancel">Ruby</button>
        </div>
        <div id="js-cancel" class="code-content active">
          <pre><code class="language-javascript">const axios = require('axios');
const cancelPayment = async (paymentId) => {
  try {
    const response = await axios.post(
      `http://localhost:3000/api/cancel/${paymentId}`,
      {},
      {
        headers: {
          'Authorization': 'Bearer SEU_ACCESS_TOKEN'
        }
      }
    );
    console.log(response.data);
  } catch (error) {
    console.error('Erro:', error.response?.data || error.message);
  }
};
cancelPayment('123456789');</code></pre>
        </div>
        <div id="ts-cancel" class="code-content hidden">
          <pre><code class="language-typescript">import axios from 'axios';
interface CancelResponse {
  success: boolean;
  status: string;
  paymentId: string;
  cancellationDate: string;
}
const cancelPayment = async (paymentId: string): Promise<void> => {
  try {
    const response = await axios.post<CancelResponse>(
      `http://localhost:3000/api/cancel/${paymentId}`,
      {},
      {
        headers: {
          'Authorization': 'Bearer SEU_ACCESS_TOKEN'
        }
      }
    );
    console.log(response.data);
  } catch (error) {
    console.error('Erro:', error.response?.data || error.message);
  }
};
cancelPayment('123456789');</code></pre>
        </div>
        <div id="py-cancel" class="code-content hidden">
          <pre><code class="language-python">import requests
payment_id = "123456789"
url = f"http://localhost:3000/api/cancel/{payment_id}"
headers = {
    "Authorization": "Bearer SEU_ACCESS_TOKEN"
}
try:
    response = requests.post(url, headers=headers)
    response.raise_for_status()
    print(response.json())
except requests.exceptions.RequestException as e:
    print("Erro:", e.response.text if e.response else str(e))</code></pre>
        </div>
        <div id="rb-cancel" class="code-content hidden">
          <pre><code class="language-ruby">require 'net/http'
require 'json'
payment_id = "123456789"
uri = URI("http://localhost:3000/api/cancel/#{payment_id}")
request = Net::HTTP::Post.new(uri)
request['Authorization'] = 'Bearer SEU_ACCESS_TOKEN'
response = Net::HTTP.start(uri.hostname, uri.port) do |http|
  http.request(request)
end
if response.code == '200'
  puts JSON.parse(response.body)
else
  puts "Erro: #{response.body}"
end</code></pre>
        </div>
      </div>
    </section>
    <section id="webhook" class="mb-12 scroll-mt-16">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <i class="fas fa-bell mr-2 text-yellow-500"></i> Webhook
      </h2>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <div class="flex items-center mb-2">
          <span class="px-2 py-1 bg-blue-500 text-white rounded text-sm mr-2">POST</span>
          <code class="text-sm">/webhook</code>
        </div>
        <p class="mb-2">Endpoint para receber notificações do Mercado Pago sobre atualizações de pagamentos.</p>
      </div>
      <div class="bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded border border-yellow-200 dark:border-yellow-800 mb-4">
        <p class="flex items-center"><i class="fas fa-exclamation-triangle mr-2 text-yellow-500"></i> <strong>Nota:</strong> Esta rota não requer autenticação, mas em produção você deve validar a assinatura das notificações.</p>
      </div>
      <h3 class="font-semibold mb-2">Exemplo de Configuração</h3>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded">
        <p class="mb-2">No Mercado Pago, configure a URL do webhook para:</p>
        <pre><code class="language-bash">http://seusite.com/api/webhook</code></pre>
        <p class="mt-4 mb-2">Ou em desenvolvimento local usando uma ferramenta como ngrok:</p>
        <pre><code class="language-bash">ngrok http 3000</code></pre>
        <pre><code class="language-bash"># Use a URL gerada pelo ngrok + /api/webhook
https://seuid.ngrok.io/api/webhook</code></pre>
      </div>
    </section>
    <section id="examples" class="mb-12 scroll-mt-16">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <i class="fas fa-code mr-2 text-indigo-500"></i> Exemplos de Código
      </h2>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <h3 class="font-semibold mb-2">Fluxo Completo de Pagamento</h3>
        <p class="mb-4">Aqui está um exemplo completo de como integrar a PayNest API em sua aplicação:</p>
        <div class="flex space-x-2 mb-2">
          <button class="code-tab px-3 py-1 rounded-t active" data-tab="js-full">JavaScript</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="ts-full">TypeScript</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="py-full">Python</button>
          <button class="code-tab px-3 py-1 rounded-t" data-tab="rb-full">Ruby</button>
        </div>
        <div id="js-full" class="code-content active">
          <pre><code class="language-javascript">const axios = require('axios');
class PayNestClient {
  constructor(accessToken, baseURL = 'http://localhost:3000/api') {
    this.accessToken = accessToken;
    this.baseURL = baseURL;
  }
  async createPayment(amount, description) {
    try {
      const response = await axios.post(`${this.baseURL}/payment`, {
        amount,
        description
      }, {
        headers: {
          'Authorization': `Bearer ${this.accessToken}`,
          'Content-Type': 'application/json'
        }
      });
      return response.data;
    } catch (error) {
      throw new Error(error.response?.data?.error || error.message);
    }
  }
  async getPayment(paymentId) {
    try {
      const response = await axios.get(`${this.baseURL}/payment/${paymentId}`, {
        headers: {
          'Authorization': `Bearer ${this.accessToken}`
        }
      });
      return response.data;
    } catch (error) {
      throw new Error(error.response?.data?.error || error.message);
    }
  }
  async checkApproval(paymentId, preferenceId) {
    try {
      const response = await axios.get(
        `${this.baseURL}/check/all/${paymentId}/${preferenceId}`,
        {
          headers: {
            'Authorization': `Bearer ${this.accessToken}`
          }
        }
      );
      return response.data;
    } catch (error) {
      throw new Error(error.response?.data?.error || error.message);
    }
  }
  async cancelPayment(paymentId) {
    try {
      const response = await axios.post(
        `${this.baseURL}/cancel/${paymentId}`,
        {},
        {
          headers: {
            'Authorization': `Bearer ${this.accessToken}`
          }
        }
      );
      return response.data;
    } catch (error) {
      throw new Error(error.response?.data?.error || error.message);
    }
  }
}
// Uso do cliente
const client = new PayNestClient('SEU_ACCESS_TOKEN');
// Criar um pagamento
async function processPayment() {
  try {
    // 1. Criar pagamento
    const payment = await client.createPayment(50.0, 'Compra de teste');
    console.log('Pagamento criado:', payment);
    // 2. Exibir QR Code para o usuário
    console.log('QR Code:', payment.qrCode);
    // 3. Verificar aprovação a cada 5 segundos
    const checkInterval = setInterval(async () => {
      const status = await client.checkApproval(payment.paymentId, payment.preferenceId);
      console.log('Status do pagamento:', status);
      if (status.fullyApproved) {
        clearInterval(checkInterval);
        console.log('Pagamento aprovado! Processando...');
        // Continuar com o fluxo da aplicação
      }
    }, 5000);
  } catch (error) {
    console.error('Erro no processamento do pagamento:', error);
  }
}
processPayment();</code></pre>
        </div>
        <div id="ts-full" class="code-content hidden">
          <pre><code class="language-typescript">import axios from 'axios';
interface Payment {
  paymentId: string;
  preferenceId: string;
  preferenceUrl: string;
  pixCode: string;
  qrCode: string;
  data: {
    createdAt: string;
    status: string;
    amount: number;
    description: string;
  };
}
interface PaymentDetails {
  paymentId: string;
  status: string;
  statusDetail: string;
  pixCode: string;
  qrCode: string;
  amount: number;
  currency: string;
  lastUpdated: string;
}
interface ApprovalResponse {
  paymentApproved: boolean;
  preferenceApproved: boolean;
  fullyApproved: boolean;
  paymentStatus: string;
  preferenceStatus: string;
  paymentData: any;
  preferenceData: any;
  hasErrors: boolean;
  lastChecked: string;
}
interface CancelResponse {
  success: boolean;
  status: string;
  paymentId: string;
  cancellationDate: string;
}
class PayNestClient {
  private accessToken: string;
  private baseURL: string;
  constructor(accessToken: string, baseURL: string = 'http://localhost:3000/api') {
    this.accessToken = accessToken;
    this.baseURL = baseURL;
  }
  async createPayment(amount: number, description: string): Promise<Payment> {
    try {
      const response = await axios.post<Payment>(`${this.baseURL}/payment`, {
        amount,
        description
      }, {
        headers: {
          'Authorization': `Bearer ${this.accessToken}`,
          'Content-Type': 'application/json'
        }
      });
      return response.data;
    } catch (error) {
      throw new Error(error.response?.data?.error || error.message);
    }
  }
  async getPayment(paymentId: string): Promise<PaymentDetails> {
    try {
      const response = await axios.get<PaymentDetails>(`${this.baseURL}/payment/${paymentId}`, {
        headers: {
          'Authorization': `Bearer ${this.accessToken}`
        }
      });
      return response.data;
    } catch (error) {
      throw new Error(error.response?.data?.error || error.message);
    }
  }
  async checkApproval(paymentId: string, preferenceId: string): Promise<ApprovalResponse> {
    try {
      const response = await axios.get<ApprovalResponse>(
        `${this.baseURL}/check/all/${paymentId}/${preferenceId}`,
        {
          headers: {
            'Authorization': `Bearer ${this.accessToken}`
          }
        }
      );
      return response.data;
    } catch (error) {
      throw new Error(error.response?.data?.error || error.message);
    }
  }
  async cancelPayment(paymentId: string): Promise<CancelResponse> {
    try {
      const response = await axios.post<CancelResponse>(
        `${this.baseURL}/cancel/${paymentId}`,
        {},
        {
          headers: {
            'Authorization': `Bearer ${this.accessToken}`
          }
        }
      );
      return response.data;
    } catch (error) {
      throw new Error(error.response?.data?.error || error.message);
    }
  }
}
// Uso do cliente
const client = new PayNestClient('SEU_ACCESS_TOKEN');
// Criar um pagamento
async function processPayment(): Promise<void> {
  try {
    // 1. Criar pagamento
    const payment = await client.createPayment(50.0, 'Compra de teste');
    console.log('Pagamento criado:', payment);
    // 2. Exibir QR Code para o usuário
    console.log('QR Code:', payment.qrCode);
    // 3. Verificar aprovação a cada 5 segundos
    const checkInterval = setInterval(async () => {
      const status = await client.checkApproval(payment.paymentId, payment.preferenceId);
      console.log('Status do pagamento:', status);
      if (status.fullyApproved) {
        clearInterval(checkInterval);
        console.log('Pagamento aprovado! Processando...');
        // Continuar com o fluxo da aplicação
      }
    }, 5000);
  } catch (error) {
    console.error('Erro no processamento do pagamento:', error);
  }
}
processPayment();</code></pre>
        </div>
        <div id="py-full" class="code-content hidden">
          <pre><code class="language-python">import requests
import time
class PayNestClient:
    def __init__(self, access_token, base_url="http://localhost:3000/api"):
        self.access_token = access_token
        self.base_url = base_url
    def create_payment(self, amount, description):
        url = f"{self.base_url}/payment"
        headers = {
            "Authorization": f"Bearer {self.access_token}",
            "Content-Type": "application/json"
        }
        payload = {
            "amount": amount,
            "description": description
        }
        try:
            response = requests.post(url, json=payload, headers=headers)
            response.raise_for_status()
            return response.json()
        except requests.exceptions.RequestException as e:
            raise Exception(e.response.text if e.response else str(e))
    def get_payment(self, payment_id):
        url = f"{self.base_url}/payment/{payment_id}"
        headers = {
            "Authorization": f"Bearer {self.access_token}"
        }
        try:
            response = requests.get(url, headers=headers)
            response.raise_for_status()
            return response.json()
        except requests.exceptions.RequestException as e:
            raise Exception(e.response.text if e.response else str(e))
    def check_approval(self, payment_id, preference_id):
        url = f"{self.base_url}/check/all/{payment_id}/{preference_id}"
        headers = {
            "Authorization": f"Bearer {self.access_token}"
        }
        try:
            response = requests.get(url, headers=headers)
            response.raise_for_status()
            return response.json()
        except requests.exceptions.RequestException as e:
            raise Exception(e.response.text if e.response else str(e))
    def cancel_payment(self, payment_id):
        url = f"{self.base_url}/cancel/{payment_id}"
        headers = {
            "Authorization": f"Bearer {self.access_token}"
        }
        try:
            response = requests.post(url, headers=headers)
            response.raise_for_status()
            return response.json()
        except requests.exceptions.RequestException as e:
            raise Exception(e.response.text if e.response else str(e))
# Uso do cliente
client = PayNestClient("SEU_ACCESS_TOKEN")
def process_payment():
    try:
        # 1. Criar pagamento
        payment = client.create_payment(50.0, "Compra de teste")
        print("Pagamento criado:", payment)
        # 2. Exibir QR Code para o usuário
        print("QR Code:", payment["qrCode"])
        # 3. Verificar aprovação a cada 5 segundos
        def check_status():
            status = client.check_approval(payment["paymentId"], payment["preferenceId"])
            print("Status do pagamento:", status)
            if status["fullyApproved"]:
                print("Pagamento aprovado! Processando...")
                # Continuar com o fluxo da aplicação
                return True
            return False
        # Verificar a cada 5 segundos até aprovação
        while not check_status():
            time.sleep(5)
    except Exception as e:
        print("Erro no processamento do pagamento:", e)
process_payment()</code></pre>
        </div>
        <div id="rb-full" class="code-content hidden">
          <pre><code class="language-ruby">require 'net/http'
require 'json'
require 'time'
class PayNestClient
  def initialize(access_token, base_url = "http://localhost:3000/api")
    @access_token = access_token
    @base_url = base_url
  end
  def create_payment(amount, description)
    uri = URI("#{@base_url}/payment")
    request = Net::HTTP::Post.new(uri)
    request['Authorization'] = "Bearer #{@access_token}"
    request['Content-Type'] = 'application/json'
    request.body = {
      amount: amount,
      description: description
    }.to_json
    response = Net::HTTP.start(uri.hostname, uri.port) do |http|
      http.request(request)
    end
    if response.code == '201'
      JSON.parse(response.body)
    else
      raise "Erro: #{response.body}"
    end
  end
  def get_payment(payment_id)
    uri = URI("#{@base_url}/payment/#{payment_id}")
    request = Net::HTTP::Get.new(uri)
    request['Authorization'] = "Bearer #{@access_token}"
    response = Net::HTTP.start(uri.hostname, uri.port) do |http|
      http.request(request)
    end
    if response.code == '200'
      JSON.parse(response.body)
    else
      raise "Erro: #{response.body}"
    end
  end
  def check_approval(payment_id, preference_id)
    uri = URI("#{@base_url}/check/all/#{payment_id}/#{preference_id}")
    request = Net::HTTP::Get.new(uri)
    request['Authorization'] = "Bearer #{@access_token}"
    response = Net::HTTP.start(uri.hostname, uri.port) do |http|
      http.request(request)
    end
    if response.code == '200'
      JSON.parse(response.body)
    else
      raise "Erro: #{response.body}"
    end
  end
  def cancel_payment(payment_id)
    uri = URI("#{@base_url}/cancel/#{payment_id}")
    request = Net::HTTP::Post.new(uri)
    request['Authorization'] = "Bearer #{@access_token}"
    response = Net::HTTP.start(uri.hostname, uri.port) do |http|
      http.request(request)
    end
    if response.code == '200'
      JSON.parse(response.body)
    else
      raise "Erro: #{response.body}"
    end
  end
end
# Uso do cliente
client = PayNestClient.new("SEU_ACCESS_TOKEN")
def process_payment
  begin
    # 1. Criar pagamento
    payment = client.create_payment(50.0, "Compra de teste")
    puts "Pagamento criado: #{payment}"
    # 2. Exibir QR Code para o usuário
    puts "QR Code: #{payment['qrCode']}"
    # 3. Verificar aprovação a cada 5 segundos
    approved = false
    until approved
      status = client.check_approval(payment['paymentId'], payment['preferenceId'])
      puts "Status do pagamento: #{status}"
      if status['fullyApproved']
        puts "Pagamento aprovado! Processando..."
        approved = true
        # Continuar com o fluxo da aplicação
      else
        sleep(5)
      end
    end
  rescue => e
    puts "Erro no processamento do pagamento: #{e.message}"
  end
end
process_payment</code></pre>
        </div>
      </div>
    </section>
    <section id="testing" class="mb-12 scroll-mt-16">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <i class="fas fa-vial mr-2 text-pink-500"></i> Testando a API
      </h2>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded mb-4">
        <h3 class="font-semibold mb-2">Scripts de Teste</h3>
        <p class="mb-2">A API inclui scripts de teste para facilitar a integração. Eles estão localizados na pasta <code>scripts/</code>:</p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
          <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded">
            <h4 class="font-semibold mb-1">create_payment.sh</h4>
            <p class="text-sm">Cria um novo pagamento PIX</p>
          </div>
          <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded">
            <h4 class="font-semibold mb-1">get_payment.sh</h4>
            <p class="text-sm">Consulta um pagamento pelo ID</p>
          </div>
          <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded">
            <h4 class="font-semibold mb-1">get_preference.sh</h4>
            <p class="text-sm">Consulta uma preferência pelo ID</p>
          </div>
          <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded">
            <h4 class="font-semibold mb-1">check_approved.sh</h4>
            <p class="text-sm">Verifica aprovação de pagamento</p>
          </div>
          <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded">
            <h4 class="font-semibold mb-1">cancel_payment.sh</h4>
            <p class="text-sm">Cancela um pagamento</p>
          </div>
          <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded">
            <h4 class="font-semibold mb-1">testeRateLimit.js</h4>
            <p class="text-sm">Testa o rate limiting da API</p>
          </div>
        </div>
      </div>
      <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded">
        <h3 class="font-semibold mb-2">Teste de Rate Limiting</h3>
        <p class="mb-2">Para testar o sistema de rate limiting, execute:</p>
        <pre><code class="language-bash">node scripts/testeRateLimit.js</code></pre>
        <p class="mt-4 mb-2">Este script fará 110 requisições em sequência para testar o limite de 100 requisições por 15 minutos.</p>
      </div>
    </section>
  </main>
  <script>
    // Dark/Light mode toggle
    const toggle = document.getElementById('theme-toggle');
    const html = document.documentElement;
    toggle.addEventListener('click', () => {
      html.classList.toggle('dark');
      const isDark = html.classList.contains('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      toggle.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
    });
    // Apply saved theme
    if (localStorage.getItem('theme') === 'dark') {
      html.classList.add('dark');
      toggle.innerHTML = '<i class="fas fa-sun"></i>';
    } else {
      toggle.innerHTML = '<i class="fas fa-moon"></i>';
    }
    // Mobile menu toggle
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');
    mobileMenuButton.addEventListener('click', () => {
      sidebar.classList.toggle('open');
      overlay.classList.toggle('open');
    });
    overlay.addEventListener('click', () => {
      sidebar.classList.remove('open');
      overlay.classList.remove('open');
    });
    const codeTabs = document.querySelectorAll('.code-tab');
    codeTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const tabName = tab.getAttribute('data-tab');
        const tabContainer = tab.closest('.mb-4');
        tabContainer.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
        tabContainer.querySelectorAll('.code-content').forEach(c => c.classList.add('hidden'));
        tab.classList.add('active');
        document.getElementById(tabName).classList.remove('hidden');
      });
    });
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth'
          });
          sidebar.classList.remove('open');
          overlay.classList.remove('open');
        }
      });
    });
    document.addEventListener('DOMContentLoaded', () => {
      Prism.highlightAll();
    });
  </script>
</body>
</html>